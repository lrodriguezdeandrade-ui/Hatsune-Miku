// Translations for Hatsune Miku Website
const translations = {
    es: {
        nav: {
            home: "Inicio",
            history: "Historia",
            details: "Detalles",
            profile: "Perfil",
            gallery: "Galería"
        },
        home: {
            subtitle: "El Sonido del Futuro"
        },
        history: {
            title: "Historia",
            p1: "Hatsune Miku (初音ミク) es una librería de voz para el software sintetizador de voz VOCALOID2, VOCALOID3 y VOCALOID4, así como para el software desarrollado por Crypton Future Media, Piapro Studio.",
            p2: "Fue lanzada el 31 de agosto de 2007 y se convirtió en la primera VOCALOID de la serie Character Vocal Series (CV01)."
        },
        details: {
            title: "Información Detallada",
            cultural: {
                title: "Impacto Cultural",
                text: "Hatsune Miku no es solo un software, es un fenómeno cultural global. Ha realizado conciertos \"en vivo\" como una proyección 3D en estadios llenos alrededor del mundo, desde Tokio hasta Los Ángeles. Su imagen ha aparecido en anuncios de Toyota, Google y Domino's Pizza."
            },
            software: {
                title: "El Software",
                text: "Originalmente basada en el motor VOCALOID2 de Yamaha, su voz fue creada a partir de muestras de la actriz de voz japonesa Saki Fujita. El nombre proviene de la fusión de las palabras japonesas para \"primero\" (hatsu), \"sonido\" (ne) y \"futuro\" (miku)."
            },
            music: {
                title: "Música y Comunidad",
                text: "A diferencia de los ídolos pop tradicionales, el repertorio de Miku es creado enteramente por sus fans. Hay más de 100,000 canciones originales de Miku, abarcando géneros desde el J-Pop y Rock hasta la música electrónica y clásica."
            }
        },
        profile: {
            title: "Perfil",
            name: "Nombre",
            release: "Lanzamiento",
            age: "Edad",
            ageValue: "16 años",
            height: "Altura",
            weight: "Peso",
            item: "Item",
            itemValue: "Puerro (Negi)"
        },
        gallery: {
            title: "Galería"
        }
    },
    en: {
        nav: {
            home: "Home",
            history: "History",
            details: "Details",
            profile: "Profile",
            gallery: "Gallery"
        },
        home: {
            subtitle: "The Sound of the Future"
        },
        history: {
            title: "History",
            p1: "Hatsune Miku (初音ミク) is a voice library for the VOCALOID2, VOCALOID3 and VOCALOID4 voice synthesizer software, as well as for software developed by Crypton Future Media, Piapro Studio.",
            p2: "It was released on August 31, 2007 and became the first VOCALOID in the Character Vocal Series (CV01)."
        },
        details: {
            title: "Detailed Information",
            cultural: {
                title: "Cultural Impact",
                text: "Hatsune Miku is not just software, it's a global cultural phenomenon. She has performed \"live\" concerts as a 3D projection in packed stadiums around the world, from Tokyo to Los Angeles. Her image has appeared in advertisements for Toyota, Google and Domino's Pizza."
            },
            software: {
                title: "The Software",
                text: "Originally based on Yamaha's VOCALOID2 engine, her voice was created from samples of Japanese voice actress Saki Fujita. The name comes from fusion of the Japanese words for \"first\" (hatsu), \"sound\" (ne) and \"future\" (miku)."
            },
            music: {
                title: "Music and Community",
                text: "Unlike traditional pop idols, Miku's repertoire is created entirely by her fans. There are over 100,000 original Miku songs, spanning genres from J-Pop and Rock to electronic and classical music."
            }
        },
        profile: {
            title: "Profile",
            name: "Name",
            release: "Release",
            age: "Age",
            ageValue: "16 years",
            height: "Height",
            weight: "Weight",
            item: "Item",
            itemValue: "Leek (Negi)"
        },
        gallery: {
            title: "Gallery"
        }
    },
    ja: {
        nav: {
            home: "ホーム",
            history: "歴史",
            details: "詳細",
            profile: "プロフィール",
            gallery: "ギャラリー"
        },
        home: {
            subtitle: "未来の音"
        },
        history: {
            title: "歴史",
            p1: "初音ミク（はつねミク）は、クリプトン・フューチャー・メディアが開発した音声合成・デスクトップミュージック（DTM）用のボーカル音源、およびそのキャラクターである。VOCALOID2、VOCALOID3、VOCALOID4の音声ライブラリです。",
            p2: "2007年8月31日に発売され、キャラクター・ボーカル・シリーズの最初のVOCALOID（CV01）となりました。"
        },
        details: {
            title: "詳細情報",
            cultural: {
                title: "文化的影響",
                text: "初音ミクは単なるソフトウェアではなく、世界的な文化現象です。東京からロサンゼルスまで、世界中の満員のスタジアムで3Dプロジェクションとして「ライブ」コンサートを行ってきました。トヨタ、Google、ドミノ・ピザの広告にも登場しています。"
            },
            software: {
                title: "ソフトウェア",
                text: "もともとヤマハのVOCALOID2エンジンをベースにしており、声優の藤田咲のサンプルから作られました。名前は日本語の「初」（hatsu）、「音」（ne）、「未来」（miku）の融合に由来しています。"
            },
            music: {
                title: "音楽とコミュニティ",
                text: "従来のポップアイドルとは異なり、ミクのレパートリーはファンによって完全に作成されています。J-PopやRockから電子音楽やクラシック音楽まで、10万曲以上のオリジナルミク曲があります。"
            }
        },
        profile: {
            title: "プロフィール",
            name: "名前",
            release: "発売日",
            age: "年齢",
            ageValue: "16歳",
            height: "身長",
            weight: "体重",
            item: "アイテム",
            itemValue: "ネギ"
        },
        gallery: {
            title: "ギャラリー"
        }
    },
    fr: {
        nav: {
            home: "Accueil",
            history: "Histoire",
            details: "Détails",
            profile: "Profil",
            gallery: "Galerie"
        },
        home: {
            subtitle: "Le Son du Futur"
        },
        history: {
            title: "Histoire",
            p1: "Hatsune Miku (初音ミク) est une bibliothèque vocale pour le logiciel de synthèse vocale VOCALOID2, VOCALOID3 et VOCALOID4, ainsi que pour le logiciel développé par Crypton Future Media, Piapro Studio.",
            p2: "Elle a été lancée le 31 août 2007 et est devenue la première VOCALOID de la série Character Vocal Series (CV01)."
        },
        details: {
            title: "Informations Détaillées",
            cultural: {
                title: "Impact Culturel",
                text: "Hatsune Miku n'est pas seulement un logiciel, c'est un phénomène culturel mondial. Elle a donné des concerts \"en direct\" sous forme de projection 3D dans des stades bondés du monde entier, de Tokyo à Los Angeles. Son image est apparue dans des publicités pour Toyota, Google et Domino's Pizza."
            },
            software: {
                title: "Le Logiciel",
                text: "Basé à l'origine sur le moteur VOCALOID2 de Yamaha, sa voix a été créée à partir d'échantillons de la comédienne japonaise Saki Fujita. Le nom vient de la fusion des mots japonais pour \"premier\" (hatsu), \"son\" (ne) et \"futur\" (miku)."
            },
            music: {
                title: "Musique et Communauté",
                text: "Contrairement aux idoles pop traditionnelles, le répertoire de Miku est entièrement créé par ses fans. Il existe plus de 100 000 chansons originales de Miku, couvrant des genres allant du J-Pop et du Rock à la musique électronique et classique."
            }
        },
        profile: {
            title: "Profil",
            name: "Nom",
            release: "Sortie",
            age: "Âge",
            ageValue: "16 ans",
            height: "Taille",
            weight: "Poids",
            item: "Article",
            itemValue: "Poireau (Negi)"
        },
        gallery: {
            title: "Galerie"
        }
    },
    de: {
        nav: {
            home: "Startseite",
            history: "Geschichte",
            details: "Details",
            profile: "Profil",
            gallery: "Galerie"
        },
        home: {
            subtitle: "Der Klang der Zukunft"
        },
        history: {
            title: "Geschichte",
            p1: "Hatsune Miku (初音ミク) ist eine Stimmbibliothek für die Sprachsynthesesoftware VOCALOID2, VOCALOID3 und VOCALOID4 sowie für die von Crypton Future Media entwickelte Software Piapro Studio.",
            p2: "Sie wurde am 31. August 2007 veröffentlicht und war die erste VOCALOID der Character Vocal Series (CV01)."
        },
        details: {
            title: "Detaillierte Informationen",
            cultural: {
                title: "Kulturelle Auswirkungen",
                text: "Hatsune Miku ist nicht nur Software, sondern ein globales kulturelles Phänomen. Sie hat \"Live\"-Konzerte als 3D-Projektion in ausverkauften Stadien auf der ganzen Welt gegeben, von Tokio bis Los Angeles. Ihr Bild ist in Werbung für Toyota, Google und Domino's Pizza erschienen."
            },
            software: {
                title: "Die Software",
                text: "Ursprünglich basierend auf Yamahas VOCALOID2-Engine, wurde ihre Stimme aus Samples der japanischen Synchronsprecherin Saki Fujita erstellt. Der Name stammt aus der Verschmelzung der japanischen Wörter für \"erste\" (hatsu), \"Klang\" (ne) und \"Zukunft\" (miku)."
            },
            music: {
                title: "Musik und Gemeinschaft",
                text: "Im Gegensatz zu traditionellen Pop-Idolen wird Mikus Repertoire vollständig von ihren Fans erstellt. Es gibt über 100.000 originale Miku-Songs, die Genres von J-Pop und Rock bis hin zu elektronischer und klassischer Musik umfassen."
            }
        },
        profile: {
            title: "Profil",
            name: "Name",
            release: "Veröffentlichung",
            age: "Alter",
            ageValue: "16 Jahre",
            height: "Größe",
            weight: "Gewicht",
            item: "Gegenstand",
            itemValue: "Lauch (Negi)"
        },
        gallery: {
            title: "Galerie"
        }
    },
    it: {
        nav: {
            home: "Home",
            history: "Storia",
            details: "Dettagli",
            profile: "Profilo",
            gallery: "Galleria"
        },
        home: {
            subtitle: "Il Suono del Futuro"
        },
        history: {
            title: "Storia",
            p1: "Hatsune Miku (初音ミク) è una libreria vocale per il software di sintesi vocale VOCALOID2, VOCALOID3 e VOCALOID4, nonché per il software sviluppato da Crypton Future Media, Piapro Studio.",
            p2: "È stata rilasciata il 31 agosto 2007 ed è diventata la prima VOCALOID della serie Character Vocal Series (CV01)."
        },
        details: {
            title: "Informazioni Dettagliate",
            cultural: {
                title: "Impatto Culturale",
                text: "Hatsune Miku non è solo un software, è un fenomeno culturale globale. Ha tenuto concerti \"dal vivo\" come proiezione 3D in stadi gremiti in tutto il mondo, da Tokyo a Los Angeles. La sua immagine è apparsa in pubblicità per Toyota, Google e Domino's Pizza."
            },
            software: {
                title: "Il Software",
                text: "Originariamente basato sul motore VOCALOID2 di Yamaha, la sua voce è stata creata da campioni della doppiatrice giapponese Saki Fujita. Il nome deriva dalla fusione delle parole giapponesi per \"primo\" (hatsu), \"suono\" (ne) e \"futuro\" (miku)."
            },
            music: {
                title: "Musica e Comunità",
                text: "A differenza degli idoli pop tradizionali, il repertorio di Miku è creato interamente dai suoi fan. Ci sono oltre 100.000 canzoni originali di Miku, che spaziano dai generi J-Pop e Rock alla musica elettronica e classica."
            }
        },
        profile: {
            title: "Profilo",
            name: "Nome",
            release: "Rilascio",
            age: "Età",
            ageValue: "16 anni",
            height: "Altezza",
            weight: "Peso",
            item: "Oggetto",
            itemValue: "Porro (Negi)"
        },
        gallery: {
            title: "Galleria"
        }
    },
    pt: {
        nav: {
            home: "Início",
            history: "História",
            details: "Detalhes",
            profile: "Perfil",
            gallery: "Galeria"
        },
        home: {
            subtitle: "O Som do Futuro"
        },
        history: {
            title: "História",
            p1: "Hatsune Miku (初音ミク) é uma biblioteca de voz para o software sintetizador de voz VOCALOID2, VOCALOID3 e VOCALOID4, bem como para o software desenvolvido pela Crypton Future Media, Piapro Studio.",
            p2: "Foi lançada em 31 de agosto de 2007 e tornou-se a primeira VOCALOID da série Character Vocal Series (CV01)."
        },
        details: {
            title: "Informações Detalhadas",
            cultural: {
                title: "Impacto Cultural",
                text: "Hatsune Miku não é apenas um software, é um fenômeno cultural global. Ela realizou shows \"ao vivo\" como uma projeção 3D em estádios lotados ao redor do mundo, de Tóquio a Los Angeles. Sua imagem apareceu em anúncios da Toyota, Google e Domino's Pizza."
            },
            software: {
                title: "O Software",
                text: "Originalmente baseado no motor VOCALOID2 da Yamaha, sua voz foi criada a partir de amostras da dubladora japonesa Saki Fujita. O nome vem da fusão das palavras japonesas para \"primeiro\" (hatsu), \"som\" (ne) e \"futuro\" (miku)."
            },
            music: {
                title: "Música e Comunidade",
                text: "Ao contrário dos ídolos pop tradicionais, o repertório de Miku é criado inteiramente por seus fãs. Existem mais de 100.000 músicas originais de Miku, abrangendo gêneros desde J-Pop e Rock até música eletrônica e clássica."
            }
        },
        profile: {
            title: "Perfil",
            name: "Nome",
            release: "Lançamento",
            age: "Idade",
            ageValue: "16 anos",
            height: "Altura",
            weight: "Peso",
            item: "Item",
            itemValue: "Alho-poró (Negi)"
        },
        gallery: {
            title: "Galeria"
        }
    },
    zh: {
        nav: {
            home: "首页",
            history: "历史",
            details: "详情",
            profile: "简介",
            gallery: "画廊"
        },
        home: {
            subtitle: "未来之声"
        },
        history: {
            title: "历史",
            p1: "初音未来（初音ミク）是VOCALOID2、VOCALOID3和VOCALOID4语音合成软件的语音库，以及Crypton Future Media开发的软件Piapro Studio。",
            p2: "它于2007年8月31日发布，成为Character Vocal Series（CV01）中的第一个VOCALOID。"
        },
        details: {
            title: "详细信息",
            cultural: {
                title: "文化影响",
                text: "初音未来不仅仅是一个软件，它是一个全球文化现象。她在世界各地座无虚席的体育场以3D投影的形式举行了\"现场\"音乐会，从东京到洛杉矶。她的形象出现在丰田、谷歌和达美乐披萨的广告中。"
            },
            software: {
                title: "软件",
                text: "最初基于雅马哈的VOCALOID2引擎，她的声音是从日本配音演员藤田咲的样本中创建的。名字来源于日语中\"第一\"（hatsu）、\"声音\"（ne）和\"未来\"（miku）的融合。"
            },
            music: {
                title: "音乐和社区",
                text: "与传统流行偶像不同，Miku的曲目完全由她的粉丝创作。有超过100,000首原创Miku歌曲，涵盖从J-Pop和摇滚到电子音乐和古典音乐的各种流派。"
            }
        },
        profile: {
            title: "简介",
            name: "名字",
            release: "发售日",
            age: "年龄",
            ageValue: "16岁",
            height: "身高",
            weight: "体重",
            item: "物品",
            itemValue: "大葱"
        },
        gallery: {
            title: "画廊"
        }
    },
    ko: {
        nav: {
            home: "홈",
            history: "역사",
            details: "세부 정보",
            profile: "프로필",
            gallery: "갤러리"
        },
        home: {
            subtitle: "미래의 소리"
        },
        history: {
            title: "역사",
            p1: "하츠네 미쿠(初音ミク)는 VOCALOID2, VOCALOID3 및 VOCALOID4 음성 합성 소프트웨어용 음성 라이브러리이며, Crypton Future Media에서 개발한 소프트웨어인 Piapro Studio용입니다.",
            p2: "2007년 8월 31일에 출시되어 Character Vocal Series(CV01)의 첫 번째 VOCALOID가 되었습니다."
        },
        details: {
            title: "자세한 정보",
            cultural: {
                title: "문화적 영향",
                text: "하츠네 미쿠는 단순한 소프트웨어가 아니라 전 세계적인 문화 현상입니다. 도쿄에서 로스앤젤레스까지 전 세계 만원 경기장에서 3D 프로젝션으로 \"라이브\" 콘서트를 개최했습니다. 그녀의 이미지는 도요타, 구글, 도미노 피자 광고에 등장했습니다."
            },
            software: {
                title: "소프트웨어",
                text: "원래 야마하의 VOCALOID2 엔진을 기반으로 하며, 그녀의 목소리는 일본 성우 후지타 사키의 샘플로 만들어졌습니다. 이름은 일본어로 \"첫 번째\"(hatsu), \"소리\"(ne), \"미래\"(miku)를 융합한 것에서 유래했습니다."
            },
            music: {
                title: "음악과 커뮤니티",
                text: "전통적인 팝 아이돌과 달리 미쿠의 레퍼토리는 팬들이 전적으로 만듭니다. J-Pop과 록부터 전자 음악과 클래식 음악까지 다양한 장르를 아우르는 10만 곡 이상의 오리지널 미쿠 노래가 있습니다."
            }
        },
        profile: {
            title: "프로필",
            name: "이름",
            release: "출시",
            age: "나이",
            ageValue: "16세",
            height: "키",
            weight: "체중",
            item: "아이템",
            itemValue: "대파(네기)"
        },
        gallery: {
            title: "갤러리"
        }
    }
};

// Language switching functionality
let currentLang = localStorage.getItem('language') || 'es';

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    updateContent();
}

function updateContent() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const keys = element.getAttribute('data-i18n').split('.');
        let value = translations[currentLang];

        keys.forEach(key => {
            value = value[key];
        });

        if (value) {
            element.textContent = value;
        }
    });
}

// Initialize on DOM load
document.addEventListener('DOMContentLoaded', () => {
    // Apply saved language
    updateContent();

    // Language button click handler
    const langBtn = document.getElementById('lang-btn');
    const langMenu = document.getElementById('lang-menu');

    if (langBtn && langMenu) {
        langBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            langMenu.classList.toggle('active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', () => {
            langMenu.classList.remove('active');
        });

        langMenu.addEventListener('click', (e) => {
            e.stopPropagation();
        });

        // Language option click handlers
        const langOptions = langMenu.querySelectorAll('.lang-option');
        langOptions.forEach(option => {
            option.addEventListener('click', () => {
                const lang = option.getAttribute('data-lang');
                setLanguage(lang);
                langMenu.classList.remove('active');

                // Update button text
                const flagEmoji = option.querySelector('.flag-emoji').textContent;
                langBtn.querySelector('.flag-emoji').textContent = flagEmoji;
            });
        });
    }
});
